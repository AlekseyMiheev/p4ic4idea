<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_101) on Thu Jul 27 06:41:33 PDT 2017 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>IProgressCallback (Perforce Java API 2017.2.1535715 API)</title>
<meta name="date" content="2017-07-27">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="IProgressCallback (Perforce Java API 2017.2.1535715 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/IProgressCallback.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/perforce/p4java/server/callback/IParallelCallback.html" title="interface in com.perforce.p4java.server.callback"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../com/perforce/p4java/server/callback/ISSOCallback.html" title="interface in com.perforce.p4java.server.callback"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/perforce/p4java/server/callback/IProgressCallback.html" target="_top">Frames</a></li>
<li><a href="IProgressCallback.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.perforce.p4java.server.callback</div>
<h2 title="Interface IProgressCallback" class="title">Interface IProgressCallback</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public interface <span class="typeNameLabel">IProgressCallback</span></pre>
<div class="block">Provides a simple server command and command progress callback
 and control interface for P4Java consumers.<p>
 
 The intention here is to provide consumers with a very simple way to
 measure command progress and to stop a command mid-stream. The underlying
 P4Java transport mechanism calls the tick() callback every time a "significant"
 part of a command is finished, and the callback return value determines whether the
 command should continue normally or be terminated cleanly ASAP.<p>
 
 In context, the significant event is almost always the
 start of processing for the next file spec to be processed (in a sync, a
 long-running files or fstat command, a submit, etc), and the tick marker,
 if it's not null, will almost always be the full client or depot path of the
 file about to be processed, or the job or changelist about to be processed, etc.
 Note that only a few commands can get the file path back in the payload,
 so you cannot rely on it being non-null; however, if it's not null, it's
 likely to be of interest to the end-user.<p>
 
 This scheme means the consumer should have some basic idea of the likely
 order of magnitude of the number of ticks that will be generated, and
 to be able to generate a suitable visual progress bar or popup using
 this information.<p>
 
 This callback scheme is only properly implemented in the RPC protocol
 version of P4Java, and only commands likely to be long-running and / or
 "interesting" currently participate in this scheme; these are typically commands
 like submit, sync, files, and fstat, but no guarantee is given yet for
 any particular command.<p>
 
 NOTE: under error conditions it is not guaranteed that the stop() method
 will be called; consumers should clear the callback's state manually under
 these conditions.<p>
 
 NOTE: you <b>must</b> ensure that there are no threading or reentrancy issues
 with your implementation of this interface, and that calling any of the methods
 here will not cause the caller (P4Java) to block or spend too much time processing
 the callback. The callback is called in the middle of Perforce client / server
 communications in the thread context of the protocol handler, and any significant
 delay here may cause serious performance issues or even botched commands.<p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/perforce/p4java/server/callback/IProgressCallback.html#start-int-">start</a></span>(int&nbsp;key)</code>
<div class="block">A new tick sequence has begun.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/perforce/p4java/server/callback/IProgressCallback.html#stop-int-">stop</a></span>(int&nbsp;key)</code>
<div class="block">The current tick sequence has finished.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/perforce/p4java/server/callback/IProgressCallback.html#tick-int-java.lang.String-">tick</a></span>(int&nbsp;key,
    <a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;tickMarker)</code>
<div class="block">Signal the completion of a significant event, and poll the callback for
 whether to continue the command.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="start-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>start</h4>
<pre>void&nbsp;start(int&nbsp;key)</pre>
<div class="block">A new tick sequence has begun. Always issued at the start of a new user-issued
 command. The integer key passed into this method should be used as an opaque key
 for associated tick and stop events; it is guaranteed to have the same value as
 used with command callbacks (see ICommandCallback) for the same command if
 command callbacks are enabled (this allows consumers to correlate progress and
 results by key matching).<p>
 
 In any case, whether command callbacks are enabled or not, this key will be unique
 across all calls (simultaneous or otherwise) to a given IServer, but is not
 guaranteed to be unique across an entire P4Java instance.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - -- opaque integer key for correlation with subsidiary calls.</dd>
</dl>
</li>
</ul>
<a name="tick-int-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tick</h4>
<pre>boolean&nbsp;tick(int&nbsp;key,
             <a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;tickMarker)</pre>
<div class="block">Signal the completion of a significant event, and poll the callback for
 whether to continue the command. If this callback returns false, the underlying
 protocol will do its best to stop the current command dead in its tracks and
 clean up.<p>
 
 Note that command cancellation done through this tick method is not guaranteed to
 have any effect at all, nor are the side-effects of such a cancellation necessarily
 predictable or safe. In general the default RPC implementation attempts to do a
 reasonable job of things, but the command-line and RPC-NTS implementations ignore
 any cancel notices completely.<p>
 
 Note also that command cancellation does <i>not</i> work for connection delays;
 current implementations force users to wait for connection timeouts. This will
 probably change in future releases.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - -- opaque integer key as given by the associated start call.</dd>
<dd><code>tickMarker</code> - possibly-interesting possibly non-null tick payload;
                        if not null, will normally be something meaningful to the consumer
                        like a file path (depot or client), or a job ID, or a changelist
                        ID, etc.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if you want the command to continue; false otherwise.</dd>
</dl>
</li>
</ul>
<a name="stop-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>stop</h4>
<pre>void&nbsp;stop(int&nbsp;key)</pre>
<div class="block">The current tick sequence has finished. Usually issued when the user command
 has completed. Not guaranteed to be delivered when an error has occurred in
 the command processing.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - -- opaque integer key as given by the associated start call.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/IProgressCallback.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/perforce/p4java/server/callback/IParallelCallback.html" title="interface in com.perforce.p4java.server.callback"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../com/perforce/p4java/server/callback/ISSOCallback.html" title="interface in com.perforce.p4java.server.callback"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/perforce/p4java/server/callback/IProgressCallback.html" target="_top">Frames</a></li>
<li><a href="IProgressCallback.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2017 <a href="http://www.perforce.com">Perforce Software</a>. All Rights Reserved.</small></p>
</body>
</html>
